# 🚨 FAIL2BAN KONFIGURACJA - /etc/fail2ban/jail.local

[DEFAULT]
# Ban time (30 minut)
bantime = 1800
# Find time (10 minut)
findtime = 600
# Max retry (5 prób)
maxretry = 5
# Ignoruj localhost
ignoreip = 127.0.0.1/8 ::1

# 📧 Email notifications
destemail = admin@twoja-domena.com
sendername = Fail2Ban-Bukowski
mta = sendmail

# 🔒 SSH PROTECTION
[sshd]
enabled = true
port = ssh,2222  # Jeśli zmieniłeś port SSH
logpath = /var/log/auth.log
maxretry = 3
bantime = 3600

# 🌐 NGINX PROTECTION
[nginx-http-auth]
enabled = true
filter = nginx-http-auth
logpath = /var/log/nginx/error.log
maxretry = 3

[nginx-noscript]
enabled = true
filter = nginx-noscript
logpath = /var/log/nginx/access.log
maxretry = 6

[nginx-badbots]
enabled = true
filter = nginx-badbots
logpath = /var/log/nginx/access.log
maxretry = 2

[nginx-noproxy]
enabled = true
filter = nginx-noproxy
logpath = /var/log/nginx/access.log
maxretry = 2

# 🔐 CUSTOM API PROTECTION
[bukowski-api-login]
enabled = true
filter = bukowski-api-login
logpath = /var/www/bukowski-app/logs/security.log
maxretry = 5
bantime = 3600

# 📊 RATE LIMITING
[bukowski-api-rate]
enabled = true
filter = bukowski-api-rate
logpath = /var/www/bukowski-app/logs/security.log
maxretry = 10
bantime = 1800